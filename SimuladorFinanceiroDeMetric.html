<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Simulador financeiro</title>
</head> <font face="Verdana">
<body style="background-color:#b8dad8;"> <center>
   
    <h1 style="color:rgb(0, 0, 0)">Simulador Financeiro</h1>
   
    1. Qual é o seu tipo de armazenamento?
    <select id="select_armazem">
        <option value=" ">Selecione o tipo de armazem</option>
        <option value="Silo convencional">Silo convencional</option>
        <option value="Silo metalico">Silo metalico</option>
        <option value="Silos bolsas">Silos bolsas</option>
        <option value="Silos concreto">Silos concreto</option>
    </select><br><br>

    2. Sobre a perda de grãos, você teria o controle?
    <select id="select_controle" onchange="analise()">
        <option value=" ">Selecione</option>
        <option value="sim">Sim</option>
        <option value="não">Não</option>
    </select>
    <br><br>


    <div id="div_mensagem"></div>

    <br>
    <button onclick="calcular()">Calcular</button><br>

    <div id="div_mensagem2"></div>
   
</center></font>
</body>
</html>

<script>
        function calcular(){

        var medida = select_medida.value;
        var armazem = select_armazem.value;
        
        var producao = Number(input_producao.value);    // Produção total
        var perdido = Number(input_perdido.value);  
        var perdaArmaz = Number(input_perdaArmaz.value); //Perda por conta da umidade
        
        var tonelada = 1780;
        var saca = 132;
        var bushel = 48.57;

        var valorTonelada = 0;
        var valorSaca = 0;
        var valorBushel = 0;
        
        var porcentagemPerda = perdaArmaz * 100 / producao;
        var prejuizo = 0; 


            if (medida == "toneladas") {
                prejuizo = perdaArmaz *tonelada;

                valorTonelada = (producao)*tonelada;
                valorSaca = ((producao*1000)/60)*saca;
                valorBushel = ((producao*1000)/27,216)*bushel;

            } else if (medida == "sacas") {
                prejuizo = perdaArmaz * saca;

                valorTonelada = ((producao*60)/1000)*tonelada;
                valorSaca = (producao)*saca;
                valorBushel = ((producao*60)/27,216)*bushel;

            } else if (medida == "bushel"){
                prejuizo = perdaArmaz * bushel;

                valorTonelada = ((producao*27,216)/1000)*tonelada;
                valorSaca = ((producao*27,216)/60)*saca;
                valorBushel = (producao)*bushel;

            } else {
                alert ("Erro! Selecione uma unidade de medida válida.");
            }

        div_mensagem2.innerHTML = `De sua armazenagem de <b> ${producao} </b> ${medida} de soja, <b style="color: red; font-size: 20px;"> ${porcentagemPerda}% </b> foram perdidos. <br>  
        Caso um sistema de monitoramento de temperatura e umidade estivesse instalado em seu armazém, <b style="color: green; font-size: 20px;"> R$ ${prejuizo},00 </b> da sua produção/armazenagem teriam sido salvos.
        <br><br>
        Valores por metodo:<br>
            Tonelada = R$${valorTonelada}<br>
            Saca = R$${valorSaca}<br>
            Bushel = R$${valorBushel}<br><br>

        Informação de valor: <br><br>
        1 tonelada = 1.000 kg<br>
        1 Saca= 60 kg<br>
        1 Bushel = 27,2155 kg
        <br><br>
        Valores médios utilizados: <br><br>
        Saca - R$ 114,00 <br>
        Tonelada - R$ 1780,00 <br>
        Bushel - R$ 48,57 <br>
        `;
        }
        
        
        function analise() {
            var resposta = select_controle.value;

            if (resposta == "sim") {
                div_mensagem.innerHTML= `
              3. Qual a unidade de medida de comercialização?<br>
                (quilograma, toneladas, sacas, bushel) <br>

                <select id="select_medida">Unidade de Medida
                    <option value=" ">Selecione a unidade de medida</option>
                    <option value="toneladas">toneladas</option>
                    <option value="sacas">sacas</option>
                    <option value="bushel">bushel</option>
                </select><br><br>

                4. Qual a sua produção/armazenagem mensal?
                <br><input type="number" id="input_producao"><br><br>

                5. Do total produzido, quanto é perdido por mês?<br>
                (De acorco a unidade de medida escolhida)
                <br><input type="number" id="input_perdido"><br><br>

                6. Destas perdas, quanto provavelmente ocorre por problemas com armazenamento?<br>
                (De acorco a unidade de medida escolhida)
                <br><input type="number" id="input_perdaArmaz"><br><br>

                    `;  
            } else {
                div_mensagem.innerHTML = `
                3. Qual a unidade de medida de comercialização?<br>
                (quilograma, toneladas, sacas, bushel) <br>

                <select id="select_medida">Unidade de Medida
                    <option value=" ">Selecione a unidade de medida</option>
                    <option value="toneladas">toneladas</option>
                    <option value="sacas">sacas</option>
                    <option value="bushel">bushel</option>
                </select><br><br>

                4. Qual a sua produção/armazenagem mensal?
                <br><input type="number" id="input_producao"><br><br>
                `;
            }
          
        }

        
</script>
